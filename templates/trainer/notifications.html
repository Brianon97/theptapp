{% extends 'base.html' %}

{% block title %}Notifications{% endblock %}

{% block content %}
<div class="container my-5">
  <h2 class="mb-4">
    <i class="fas fa-bell me-2"></i>Notifications
  </h2>

  {% if notifications %}
    <div class="list-group">
      {% for notification in notifications %}
        <div class="list-group-item {% if not notification.is_read %}bg-light border-start border-primary border-4{% endif %}">
          <div class="d-flex w-100 justify-content-between align-items-start">
            <div>
              <h5 class="mb-1">
                {% if notification.notification_type == 'booking_cancelled' %}
                  <i class="fas fa-times-circle text-danger me-2"></i>
                  Booking Cancelled
                {% elif notification.notification_type == 'booking_created' %}
                  <i class="fas fa-calendar-plus text-success me-2"></i>
                  New Booking
                {% endif %}
              </h5>
              <p class="mb-2">{{ notification.message }}</p>
              {% if notification.booking_date and notification.booking_time %}
                <p class="mb-1 text-muted">
                  <i class="far fa-calendar me-1"></i>
                  {{ notification.booking_date|date:"F j, Y" }} at {{ notification.booking_time|time:"g:i A" }}
                </p>
              {% endif %}
            </div>
            <small class="text-muted">
              {{ notification.created_at|timesince }} ago
            </small>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-info">
      <i class="fas fa-info-circle me-2"></i>
      No notifications at this time.
    </div>
  {% endif %}

  <div class="mt-4">
    <a href="{% url 'trainer:booking_list' %}" class="btn btn-outline-secondary">
      <i class="fas fa-arrow-left me-2"></i>Back to Bookings
    </a>
  </div>
</div>
{% endblock %}
